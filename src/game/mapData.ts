import { FoodType, TileType } from "../constants/tile.js";

const STR_TO_TILE_TYPE: Record<string, TileType> = {
    "#": TileType.Wall,
    "-": TileType.Floor,
    "'": TileType.Floor,
    "^": TileType.Oneway,
};

const STR_TO_FOOD_TYPE: Record<string, FoodType> = {
    "'": FoodType.Normal,
    "@": FoodType.Special,
};

const mapLayout = [
    "############################",
    "#''''''''''''##''''''''''''#",
    "#'####'#####'##'#####'####'#",
    "#@####'#####'##'#####'####@#",
    "#'####'#####'##'#####'####'#",
    "#''''''''''''''''''''''''''#",
    "#'####'##'########'##'####'#",
    "#'####'##'########'##'####'#",
    "#''''''##''''##''''##''''''#",
    "######'#####-##-#####'######",
    "-----#'#####-##-#####'#-----",
    "-----#'##----------##'#-----",
    "-----#'##-###^^###-##'#-----",
    "######'##-#------#-##'######",
    "------'---#------#---'------",
    "######'##-#------#-##'######",
    "-----#'##-########-##'#-----",
    "-----#'##----------##'#-----",
    "-----#'##-########-##'#-----",
    "######'##-########-##'######",
    "#''''''''''''##''''''''''''#",
    "#'####'#####'##'#####'####'#",
    "#'####'#####'##'#####'####'#",
    "#@''##'''''''--'''''''##''@#",
    "###'##'##'########'##'##'###",
    "###'##'##'########'##'##'###",
    "#''''''##''''##''''##''''''#",
    "#'##########'##'##########'#",
    "#'##########'##'##########'#",
    "#''''''''''''''''''''''''''#",
    "############################",
];
// const mapLayout = [
//     "###################",
//     "#''''''''#''''''''#",
//     "#'##'###'#'###'##'#",
//     "#'##'###'#'###'##'#",
//     "#'''''''''''''''''#",
//     "#'##'#'#####'#'##'#",
//     "#''''#'''#'''#''''#",
//     "####'###-#-###'####",
//     "####'#-------#'####",
//     "####'#-#####-#'####",
//     "----'--#---#--'----",
//     "####'#-#####-#'####",
//     "####'#-------#'####",
//     "####'#-#####-#'####",
//     "#''''''''#''''''''#",
//     "#'##'###'#'###'##'#",
//     "#''#'''''''''''#''#",
//     "##'#'#'#####'#'#'##",
//     "#''''#'''#'''#''''#",
//     "#'######'#'######'#",
//     "#'''''''''''''''''#",
//     "###################",
// ];

export const staticMapData = mapLayout.map(row =>
    [...row].map(c => {
        return STR_TO_TILE_TYPE[c] ?? TileType.Floor;
    })
);

export function getFoodMap() {
    return mapLayout.map(row =>
        [...row].map(c => {
            return STR_TO_FOOD_TYPE[c] ?? FoodType.None;
        })
    );
}
